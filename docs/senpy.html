

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>senpy package &mdash; SenPy 1.2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="senpy" href="modules.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> SenPy
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">senpy</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">senpy package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-senpy.neyer">senpy.neyer module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-senpy">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SenPy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">senpy</a> &raquo;</li>
        
      <li>senpy package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/senpy.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="senpy-package">
<h1>senpy package<a class="headerlink" href="#senpy-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-senpy.neyer">
<span id="senpy-neyer-module"></span><h2>senpy.neyer module<a class="headerlink" href="#module-senpy.neyer" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="senpy.neyer.Neyer">
<em class="property">class </em><code class="sig-prename descclassname">senpy.neyer.</code><code class="sig-name descname">Neyer</code><span class="sig-paren">(</span><em class="sig-param">latent='normal'</em>, <em class="sig-param">inverted=False</em>, <em class="sig-param">method='L-BFGS-B'</em>, <em class="sig-param">num_restarts=3</em>, <em class="sig-param">t1_min=None</em>, <em class="sig-param">t1_max=None</em>, <em class="sig-param">t2_guess=None</em>, <em class="sig-param">precision=8</em>, <em class="sig-param">resolution=None</em>, <em class="sig-param">lower_bound=None</em>, <em class="sig-param">upper_bound=None</em>, <em class="sig-param">hist=False</em>, <em class="sig-param">log_file=None</em><span class="sig-paren">)</span><a class="headerlink" href="#senpy.neyer.Neyer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The Neyer model. Given an assumed form for the latent distribution,
either ‘normal’, ‘logistic’, or ‘log-logistic’, the maximum likelihood
estimates of the distribution parameters are computed. Neyer also provides
a sequential design algorithm.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>latent</strong> (<em>string</em><em>, </em><em>optional</em>) – DESCRIPTION. The form of the latent distribution. Either ‘normal’,
‘logistic’, or ‘log-logistic’. The default is ‘normal’.</p></li>
<li><p><strong>inverted</strong> (<em>boolean</em><em>, </em><em>optional</em>) – DESCRIPTION. If the probability of a ‘go’ increases as the stimulus
level decreases, then the data is ‘inverted’. The default is False.</p></li>
<li><p><strong>method</strong> (<em>string</em><em>, </em><em>optional</em>) – DESCRIPTION. Name of the optimization routine called when computing
the maximum likelihood estimates. The default is ‘L-BFGS-B’.</p></li>
<li><p><strong>num_restarts</strong> (<em>int</em><em>, </em><em>optional</em>) – DESCRIPTION. The number of random initializations to use when
maximizing the likelihood function. Note, the available latent
distributions only use two parameters. Consequently, the resulting
likelihood function is typically convex. The default is 3.</p></li>
<li><p><strong>t1_min</strong> (<em>flaot</em><em>, </em><em>optional</em>) – DESCRIPTION. When using the sequential design algorithm and starting
with no (or minimal) data, an intial guess on the lower bound of
the first parameter, theta_1, is required. For the normal and
logistic distributions theta_1 is mu. For the log-logistic distribution
theta_1 is alpoha. If None is provided and the sequential algorithm
is called, the program will prompt the user for the value.
The default is None.</p></li>
<li><p><strong>t1_max</strong> (<em>float</em><em>, </em><em>optional</em>) – DESCRIPTION. The initial guess for the upper bound of theta_1.
See t1_min for more details. The default is None.</p></li>
<li><p><strong>t2_guess</strong> (<em>float</em><em>, </em><em>optional</em>) – DESCRIPTION. The initial guess for theta_2. Required when using the
sequential design algorithm. See t1_min for more details. For the
normal and logisit distributions, theta_2 is sigma. For the log-logistic
distribution, theta_2 is beta. The default is None.</p></li>
<li><p><strong>precision</strong> (<em>int</em><em>, </em><em>optional</em>) – DESCRIPTION. Number of decimal points to incude in the final
output. The default is 8.</p></li>
<li><p><strong>resolution</strong> (<em>float</em><em>, </em><em>optional</em>) – DESCRIPTION. The smallest change in stimulus level available. For
example, a drop-weight apparatus may only have adjustments at
quarter inch intervals. Thus, the algorithm should not suggest testing
at 12.105 inches, etc. The default is None.</p></li>
<li><p><strong>lower_bound</strong> (<em>float</em><em>, </em><em>optional</em>) – DESCRIPTION. The lowest stimulus level a user can phsically test.
The default is None.</p></li>
<li><p><strong>upper_bound</strong> (<em>float</em><em>, </em><em>optional</em>) – DESCRIPTION. The highest stimulus level a user can phsically test.
The default is None.</p></li>
<li><p><strong>hist</strong> (<em>boolean</em><em>, </em><em>optional</em>) – DESCRIPTION. If True the determinant of the information matrix is
computed over a range of stimulus levels at each stage of the
sequential design. Typically used for debugging only!
The default is False.</p></li>
<li><p><strong>log_file</strong> (<em>str</em><em>, </em><em>optional</em>) – DESCRIPTION. File path for a log file. The log consists of the
steps taken during the sequential design algorithm.
The default is None.</p></li>
</ul>
</dd>
</dl>
<dl class="attribute">
<dt id="senpy.neyer.Neyer.available_opt_methods">
<code class="sig-name descname">available_opt_methods</code><em class="property"> = ('L-BFGS-B', 'SLSQP', 'TNC')</em><a class="headerlink" href="#senpy.neyer.Neyer.available_opt_methods" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="senpy.neyer.Neyer.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param">X</em>, <em class="sig-param">Y</em><span class="sig-paren">)</span><a class="headerlink" href="#senpy.neyer.Neyer.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the maximum likelihood estimates of the distribution parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>2D array</em>) – The tested stimulus levels. Must be of shape (n_pts, 1)</p></li>
<li><p><strong>Y</strong> (<em>array</em>) – The observed response at each stimulus level. 1 for ‘go’ and 0
for ‘no-go’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>self</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="senpy.neyer.Neyer.get_estimators">
<code class="sig-name descname">get_estimators</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#senpy.neyer.Neyer.get_estimators" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides access to the stored estimate of theta. For example,
[mu, sigma] or [alpha, beta].</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Current parameter estimates. Shape is (2,)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="senpy.neyer.Neyer.loop">
<code class="sig-name descname">loop</code><span class="sig-paren">(</span><em class="sig-param">iterations=1000000</em><span class="sig-paren">)</span><a class="headerlink" href="#senpy.neyer.Neyer.loop" title="Permalink to this definition">¶</a></dt>
<dd><p>This method suggests new test levels and accepts user input to calculate
maximum likelihood estimates. That is, this method constitutes a loop.
Loop will continue indefinitely until ‘end’ is received as user input
during the either the test level or result input queries. Alternatively,
if a set number of specimens is to be used then the number of loops can
be specified with the ‘iterations’ keyword argument.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>iterations</strong> (<em>int</em><em>, </em><em>optional</em>) – End the loop automatically after n iterations. The default is 1000000.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="senpy.neyer.Neyer.next_pt">
<code class="sig-name descname">next_pt</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#senpy.neyer.Neyer.next_pt" title="Permalink to this definition">¶</a></dt>
<dd><p>The sequential design algorithm. When this method is called, the next
suggested stimulus level for testing is printed to the console.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>self</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="senpy.neyer.Neyer.plot_confidence_region">
<code class="sig-name descname">plot_confidence_region</code><span class="sig-paren">(</span><em class="sig-param">limits</em>, <em class="sig-param">n</em>, <em class="sig-param">CI_levels=10</em>, <em class="sig-param">save_dst=None</em>, <em class="sig-param">show=True</em><span class="sig-paren">)</span><a class="headerlink" href="#senpy.neyer.Neyer.plot_confidence_region" title="Permalink to this definition">¶</a></dt>
<dd><p>A high-level function to plot the confidence region of the parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>limits</strong> (<em>list</em>) – The plot limits provided as [lower xlim, upper xlim, lower ylim, upper ylim].</p></li>
<li><p><strong>n</strong> (<em>int</em><em> or </em><em>list of length 2</em>) – The number locations to sample in the x (theta_1) and y (theta_2) directions.</p></li>
<li><p><strong>CI_levels</strong> (<em>int</em><em> or </em><em>list</em><em>, </em><em>optional</em>) – If an integer, a filled contour plot will be produced with that
many levels. If it is a list, the list values specify the confidence
levels at which to draw contour lines. The default is 10.</p></li>
<li><p><strong>save_dst</strong> (<em>str</em><em>, </em><em>optional</em>) – The file path (including file type) where the plot should be saved.
The default is None</p></li>
<li><p><strong>show</strong> (<em>boolean</em><em>, </em><em>optional</em>) – If True, simply calls matplotlib.plt.show(). May be required for
some IDEs. The default is True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="senpy.neyer.Neyer.plot_probability">
<code class="sig-name descname">plot_probability</code><span class="sig-paren">(</span><em class="sig-param">include_data=True</em>, <em class="sig-param">xlabel=None</em>, <em class="sig-param">ylabel=None</em>, <em class="sig-param">alpha=1.0</em>, <em class="sig-param">save_dst=None</em>, <em class="sig-param">show=True</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#senpy.neyer.Neyer.plot_probability" title="Permalink to this definition">¶</a></dt>
<dd><p>A high-level method to call self.predict_probability and plot the result.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>include_data</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Whether or not to plot the data (stimuli and responses).
The default is True.</p></li>
<li><p><strong>xlabel</strong> (<em>str</em><em>, </em><em>optional</em>) – If provided, the text for the plot xlabel. The default is None.</p></li>
<li><p><strong>ylabel</strong> (<em>str</em><em>, </em><em>optional</em>) – If provided, the text for the plot ylabel. The default is None.</p></li>
<li><p><strong>alpha</strong> (<em>float</em><em>, </em><em>optional</em>) – opacity of the observed data points. Must be between 0 and 1.
Only used if include_data is True. Useful to visualize many overlapping
data points. The default is 1.0.</p></li>
<li><p><strong>save_dst</strong> (<em>str</em><em>, </em><em>optional</em>) – The file path (including file type) where the plot should be saved.
The default is None.</p></li>
<li><p><strong>show</strong> (<em>boolean</em><em>, </em><em>optional</em>) – If True, simply calls matplotlib.plt.show(). May be required for
some IDEs. The default is True.</p></li>
<li><p><strong>**kwargs</strong> – All keyworkd arguments provided to predict_probability can also be
provided here.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="senpy.neyer.Neyer.post_test_outcome">
<code class="sig-name descname">post_test_outcome</code><span class="sig-paren">(</span><em class="sig-param">res</em>, <em class="sig-param">pt</em><span class="sig-paren">)</span><a class="headerlink" href="#senpy.neyer.Neyer.post_test_outcome" title="Permalink to this definition">¶</a></dt>
<dd><p>Append a stimulus level and result to the existing data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>res</strong> (<em>int</em><em> or </em><em>boolean</em>) – The observed result at the tested stimulus level. Either 0, 1 or
False, True.</p></li>
<li><p><strong>pt</strong> (<em>float</em>) – The stimulus level at which the test was performed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="senpy.neyer.Neyer.predict_probability">
<code class="sig-name descname">predict_probability</code><span class="sig-paren">(</span><em class="sig-param">pts=None, confidence=None, CI_level=[0.5, 0.8, 0.9, 0.95], num_samples=1000, max_iter=5</em><span class="sig-paren">)</span><a class="headerlink" href="#senpy.neyer.Neyer.predict_probability" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the probability of a ‘go’ at pts. p(y=0|pt)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pts</strong> (<em>array</em><em>, </em><em>optional</em>) – The stimulus levels at which to compute probability predictions.
The default is None. If None, range = max(X) - min(X) and
pts = np.linspace(min(X)-0.5*range, max(X)+0.5*range, 100)</p></li>
<li><p><strong>confidence</strong> (<em>str</em><em>, </em><em>optional</em>) – The name of the method used to supply confidence intervals.
Options are ‘delta’, ‘perturbation’ (same as delta), ‘likelihood-ratio’,
‘parametric-bootstrap’, and ‘nonparametric-bootstrap’.
The default is None.</p></li>
<li><p><strong>CI_level</strong> (<em>list</em><em>, </em><em>optional</em>) – The confidence levels. Ignored if confidence is None.
The default is [.5, .8, .9, .95].</p></li>
<li><p><strong>num_samples</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of bootstrapped samples generated. Only used if
confidence = ‘parametric-bootstrap’ or ‘nonparametric=bootstrap’.
The default is 1000.</p></li>
<li><p><strong>max_iter</strong> (<em>int</em><em>, </em><em>optional</em>) – The maximum number of attempts to map the likelihood ratio.
Only used if confidence = ‘likelihood-ratio’. The default is 5.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Consists of the stimulus points, the predicted probability, and
arrays of the lower bounds and upper bounds of the confidence levels
if confidence was requested.
(pts (n_pts, 1), predicted probability (n_pts, 1)) or
(pts (n_pts, 1), predicted probability (n_pts, 1), lower CI bounds, upper CI bounds)
where the shape of lower and upper CI bounds is (n_pts, n_levels)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="senpy.neyer.Neyer.print_estimators">
<code class="sig-name descname">print_estimators</code><span class="sig-paren">(</span><em class="sig-param">cost=False</em><span class="sig-paren">)</span><a class="headerlink" href="#senpy.neyer.Neyer.print_estimators" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the current parameter estimates to the console.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cost</strong> (<em>boolean</em><em>, </em><em>optional</em>) – If true, the value of the negative log-likelihood, or cost, at the
current parameter estimates is also printed to the console.
The default is False.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-senpy">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-senpy" title="Permalink to this headline">¶</a></h2>
<p>Created on Sun Mar 22 17:28:13 2020</p>
<p>&#64;author: alexc</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="modules.html" class="btn btn-neutral float-left" title="senpy" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Alex Casey, David Arthur

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>